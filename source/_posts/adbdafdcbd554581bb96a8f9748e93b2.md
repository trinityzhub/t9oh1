---
layout: post
title: Settings sync ToMobile
abbrlink: adbdafdcbd554581bb96a8f9748e93b2
tags: []
categories:
  - H1_T9OH1_Tech
  - mechanic
  - software (1)
  - windows (4)
  - text (4)
  - obsidian
  - Kitchen
  - Execute
date: 1726662673394
updated: 1725990502987
---

## Tasks

Check Hash and copy:

```powershell


########################################################################
########################  INPUT VALUES HERE ##   STARTS  ############



# Get the directory two levels above the script's path
$userProvidedRootPath = "D:\FileBridge_P2TACS\SyncBetween\R7\J7_R7OJ7_JobsKnowledge\JzJobsGithub\J7TextBook"

# Define source-destination pairs (relative to rootPath)
$files = @(

    @{ Source = "Kitchen/.dummy1/dummy.json"; Destination = "Kitchen/.dummy2/dummy.json" },

	######################## A31 Plugins ## STARTS
    ,@{ Source = ".obsidian_e46/plugins/obsidian-icon-folder/data.json"; Destination = ".obsidian_a31_git/plugins/obsidian-icon-folder/data.json" }
    ,@{ Source = ".obsidian_e46/plugins/obsidian-admonition/data.json"; Destination = ".obsidian_a31_git/plugins/obsidian-admonition/data.json" }    
    ######################## A31 Plugins ## ENDS
    ######################## A31 Core ## STARTS
    ,@{ Source = ".obsidian_e46/bookmarks.json"; Destination = ".obsidian_a31_git/bookmarks.json" }    
    ,@{ Source = ".obsidian_e46/workspaces.json"; Destination = ".obsidian_a31_git/workspaces.json" }
    ,@{ Source = ".obsidian_e46/types.json"; Destination = ".obsidian_a31_git/types.json" }
    ######################## A31 Core ## ENDS
    
    
    	######################## A21 Plugins ## STARTS
    ,@{ Source = ".obsidian_e46/plugins/obsidian-icon-folder/data.json"; Destination = ".obsidian_a21_git/plugins/obsidian-icon-folder/data.json" }
    ,@{ Source = ".obsidian_e46/plugins/obsidian-admonition/data.json"; Destination = ".obsidian_a21_git/plugins/obsidian-admonition/data.json" }      
    ######################## A21 Plugins ## ENDS
    ######################## A21 Core ## STARTS
    ,@{ Source = ".obsidian_e46/bookmarks.json"; Destination = ".obsidian_a21_git/bookmarks.json" }
    ,@{ Source = ".obsidian_e46/workspaces.json"; Destination = ".obsidian_a21_git/workspaces.json" }    
    ,@{ Source = ".obsidian_e46/types.json"; Destination = ".obsidian_a21_git/types.json" }
    ######################## A21 Core ## ENDS
    
)


########################  INPUT VALUES HERE ##   ENDS  ############
########################################################################







# Check if $userProvidedRootPath is empty
if ([string]::IsNullOrEmpty($userProvidedRootPath)) {
	# Grandfather folder Path of script file
    $rootPath = (Get-Item -Path $PSScriptRoot).Parent.Parent.FullName
} else {
    $rootPath = $userProvidedRootPath
}
cd $rootPath


# Function to get the file hash
function Get-FileHashValue {
    param (
        [string]$filePath
    )
    if (Test-Path $filePath) {
        return (Get-FileHash -Path $filePath -Algorithm SHA256).Hash
    }
    else {
        return $null
    }
}

# Loop through each source-destination pair
foreach ($filePair in $files) {
    # Build full paths for the source and destination
    $sourceFile = Join-Path $rootPath $filePair.Source
    $destinationFile = Join-Path $rootPath $filePair.Destination
    ## Write-Host "sourceFile:  $($sourceFile)"
    ## Write-Host "destinationFile:  $($destinationFile)"

    # Get the hash values of the source and destination files
    $sourceHash = Get-FileHashValue -filePath $sourceFile
    ## Write-Host "SourceHash:  $($sourceHash)"
    $destinationHash = Get-FileHashValue -filePath $destinationFile
    ## Write-Host "destinationHash:  $($destinationHash)"

    # If the destination file does not exist or the hashes are different, copy the file
    if ($sourceHash -ne $destinationHash) {
        Write-Host "Hash mismatch or destination missing: Copying $($filePair.Source) to $($filePair.Destination)"
        
        # Copy the source file to the destination
        Copy-Item -Path $sourceFile -Destination $destinationFile -Force

        # Stage the destination file for commit
        git add $destinationFile

        # Commit the cloned changes
        git commit -m "Cloned changes from E46 to $($filePair.Destination)"
    }
    else {
        Write-Host "No changes: Hashes are identical for $($filePair.Source) and $($filePair.Destination)"
    }
}

```
