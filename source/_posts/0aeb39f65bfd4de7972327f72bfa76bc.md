---
layout: post
title: Backup using ADB
abbrlink: 0aeb39f65bfd4de7972327f72bfa76bc
tags: []
categories:
  - H1_T9OH1_Tech
  - scienist
  - os (3)
  - android (4)
  - tools
  - adb
  - backup
date: 1724781054318
updated: 1725002948242
---

## Identifying User ID in Android

1. **Use ADB Command**:
   - Connect your Android device to your computer.
   - Open a command prompt or terminal on your computer.
   - Run the following command:
     ```powershell
     adb shell pm list users
     ```
   - Output example:
     ```
     UserInfo{0:Primary:13} running
     UserInfo{10:Guest:13}
     UserInfo{11:SecondaryUser:13}
     ```
     - The number before the colon (e.g., `0`, `10`, `11`) represents the user ID.

## Backing Up App Data Using ADB

1. **Run the Backup Command**:
   - Use the following command to back up data for a specific user:
     ```powershell
     adb backup --user <user-id> -apk -shared -all -f <backup-file>
     ```

   - Replace `<user-id>` with the specific user ID and `<backup-file>` with the desired file name (e.g., `backup.ab`).

   - Example H3:

```powershell
adb backup --user 13 -apk -shared -all -f Y:\FileBridge_Y9Blackie\RecieveFrom\H3\A31_H3OA31_PhoenixNord\H3OA31ADB\ADB-Backups\H3OA31.ab
```

- Example T5:

```powershell
adb backup --user 10 -apk -shared -all -f T:\FileBridge_T5Blackie\RecieveFrom\T5\A31_T5OA31_TonyNord\ADBBackup\T5OA31.ab
```

- The device will prompt the user to confirm the backup.

## Restoring Data for an Existing Android User

1. **Switch to the New User via ADB**:

   - Open Command Prompt on your Windows machine.

   - Use the following command to switch to the new user:

     `adb shell am switch-user <user_id>`

   - Replace `<user_id>` with the ID of the new user. You can find the user ID by running:

     `adb shell pm list users`
2. **Restore the Backup**:

   - While still in the new user account, run the following command to restore the backup:

     `adb restore path_to_your_backup_file.ab`

   - Follow the on-screen prompts on your Android device to complete the restore process.
3. **Run the Restore Command**:
   - Use the following command to restore the backup:
     ```powershell
     adb restore <backup-file>
     ```
   - Example:
     ```powershell
     adb restore /path/to/backup/SecondaryUserBackup.ab
     ```
   - The device will prompt you to confirm the restoration.

- Example T5:

```powershell

adb restore T:\FileBridge_T5Blackie\RecieveFrom\T5\A31_T5OA31_TonyNord\ADBBackup\T5OA31.ab

```

## Considerations

- **Permissions**: Developer mode and USB debugging must be enabled on the device.
- **Limitations**: Some apps may not be backed up due to Android's restrictions.
